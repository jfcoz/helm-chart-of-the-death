{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "bumpVersion": "patch",
  "customManagers": [
    {
      "customType": "jsonata",
      "fileFormat": "yaml",
      "managerFilePatterns": ["/(^|/)charts/.*/values.yaml$/"],
      "matchStrings": [
        "$map(components[].*[].*, function($c,$r) {{ \"depName\": $c.chartName, \"currentValue\": $c.chartVersion, \"registryUrl\": repositories[name=$c.chartRepository].url }})"
      ],
      "datasourceTemplate": "helm"
    }
  ]
}
